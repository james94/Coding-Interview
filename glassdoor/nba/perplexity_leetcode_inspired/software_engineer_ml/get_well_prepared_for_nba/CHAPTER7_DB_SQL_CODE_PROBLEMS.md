# Chapter 7: Database Design and SQL (27 questions)

We have 27 medium-level questions for "Software Engineer, Machine Learning NBA" Chapter 7: Database Design and SQL.

## Medium Questions

### Database SQL Concepts and Architecture (3 questions)

1. Explain the differences between OLTP and OLAP systems in the context of NBA data processing. (Medium)
2. Design a distributed database architecture for storing and querying real-time game statistics across multiple NBA arenas. (Medium)
3. Describe how you would implement data partitioning for historical NBA player statistics to optimize query performance. (Medium)

### The Entity/Relationship Model (3 questions)

4. Create an ER diagram for a system that tracks player injuries, treatments, and return-to-play timelines. (Medium)
5. Design an entity-relationship model for representing team ownership, management structure, and coaching staff. (Medium)
6. Develop an ER model for a fantasy basketball system, including user teams, player selections, and scoring. (Medium)

### The Relational Model (3 questions)

7. Convert the ER model for player contracts and salary cap management into a relational schema. (Medium)
8. Design a relational model to represent game events, including play-by-play data and player substitutions. (Medium)
9. Create a relational schema for tracking player development, including G-league assignments and call-ups. (Medium)

### SQL Basic & Complex Queries (3 questions)

10. Write a SQL query to find the top 5 players with the highest three-point percentage, minimum 100 attempts, for each season. (Medium)
11. Develop a SQL query to calculate the plus-minus rating for each player in close games (margin <= 5 points) over a season. (Medium)
12. Create a SQL query to identify players who have improved their free throw percentage by at least 10% compared to the previous season. (Medium)

### Relational Algebra (3 questions)

13. Express a relational algebra query to find all players who have played for at least 3 different teams in their career. (Medium)
14. Write a relational algebra expression to determine the average points per game for each team, excluding games where they scored less than 80 points. (Medium)
15. Develop a relational algebra query to find pairs of players who have never played on the same team but have both played against a common opponent. (Medium)

### ER to Relational Mapping (3 questions)

16. Map an ER model for NBA draft picks, including draft order, team selections, and player college statistics, to a relational schema. (Medium)
17. Convert an ER diagram representing player agent relationships and contract negotiations into relational tables. (Medium)
18. Transform an ER model for tracking team merchandise sales and inventory across different venues into a relational database schema. (Medium)

### Normalization (3 questions)

19. Normalize a given denormalized table containing game statistics to 3NF, explaining each step. (Medium)
20. Identify and resolve any normalization issues in a provided schema for storing player biographical information and career highlights. (Medium)
21. Analyze a given database schema for storing team financial data and suggest improvements to achieve BCNF. (Medium)

### Transaction Processing (3 questions)

22. Design a transaction to update player statistics after a game, ensuring data consistency across multiple tables. (Medium)
23. Implement a transaction to process a player trade, including updating team rosters, salary caps, and draft pick ownership. (Medium)
24. Create a transaction to handle ticket sales for an NBA game, including seat allocation and revenue distribution. (Medium)

### Concurrency Control (3 questions)

25. Explain how you would implement optimistic concurrency control for updating player statistics in real-time during a live game. (Medium)
26. Design a locking strategy to prevent conflicts when multiple users are attempting to draft players in a fantasy basketball system. (Medium)
27. Develop a concurrency control mechanism for a system that allows multiple scouts to simultaneously update player evaluation reports. (Medium)

### Citations

- [1] https://alubanana.github.io/database/columbia/web%20application/NBA-Database-Design/
- [2] https://www.reddit.com/r/nba/comments/lyulnv/nbasql_a_relational_nba_database/
- [3] https://www.interviewquery.com/p/database-design-interview-questions
- [4] https://www.stratascratch.com/blog/top-30-sql-query-interview-questions/
- [5] https://datalemur.com/blog/genius-sports-sql-interview-questions
- [6] https://www.stratascratch.com/blog/advanced-sql-interview-questions-you-must-know-how-to-answer/
- [7] https://www.datacamp.com/blog/top-sql-interview-questions-and-answers-for-beginners-and-intermediate-practitioners
- [8] https://www.simplilearn.com/tutorials/data-analytics-tutorial/data-analyst-interview-questions

## References

- Perplexity AI assistance: https://www.perplexity.ai/search/i-am-interviewing-for-software-G9IVrQnbRRaYWT5TL29h3A
